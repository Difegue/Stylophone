<Page x:ConnectionId='1'
    x:Class="Stylophone.Views.OverlayView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    RequestedTheme="Dark"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    mc:Ignorable="d"
    d:DesignHeight="430"
    d:DesignWidth="300"
                            
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:converters="using:Stylophone.Helpers">

    <Page.Resources>
        <converters:SliderValueConverter x:Key="SliderValueConverter" />

        <converters:BoolToBrushConverter
            x:Key="BoolToBrushConverter"
            FalseColor="SystemControlDisabledTransparentBrush"
            TrueColor="ButtonRevealBackgroundPointerOver" />

    </Page.Resources>

    <Grid Background="{ThemeResource SystemControlAcrylicElementBrush}"
          RequestedTheme="Dark">

        <controls:ImageEx x:ConnectionId='2'                                                                       
                          PlaceholderSource="/Assets/AlbumPlaceholder.png" PlaceholderStretch="UniformToFill"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"
                          Stretch="UniformToFill" />

        <Border HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Offset="0" Color="#00000000" />
                    <GradientStop Offset="0.7" Color="#DD000000" />
                </LinearGradientBrush>
            </Border.Background>
        </Border>

        <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left" Orientation="Horizontal">
            <Button x:ConnectionId='15' Style="{StaticResource CircleButtonStyle}"
                    Margin="20,20,0,0"
                    Background="{ThemeResource SystemControlChromeMediumLowAcrylicElementMediumBrush}"
                                                       
                    Width="40" Height="40">
                <Button.Content>
                    <TextBlock Text="&#xE72B;"
                               FontSize="18"
                               FontFamily="Segoe MDL2 Assets"
                               TextAlignment="Center" />
                </Button.Content>
            </Button>
        </StackPanel>

        <StackPanel VerticalAlignment="Bottom">
            <TextBlock x:ConnectionId='3'                                                                 
                       MaxLines="3"
                       FontSize="26"
                       TextWrapping="Wrap"
                       TextTrimming="CharacterEllipsis"
                       Margin="25,0,25,5"
                       FontWeight="Bold" />

            <TextBlock x:ConnectionId='4'                                                                        
                       FontSize="14"
                       Margin="25,0,25,10"
                       Opacity="0.6"
                       TextTrimming="CharacterEllipsis"
                       FontWeight="Bold" />

            <!-- Slider Times -->
            <Grid>
                <TextBlock x:ConnectionId='13' Grid.Column="0"
                           HorizontalAlignment="Left"
                           FontWeight="SemiBold"
                                                                                      
                           Opacity="0.8"
                           Margin="25,10,0,0"
                           FontSize="12" />

                <TextBlock x:ConnectionId='14' HorizontalAlignment="Right"
                           FontWeight="SemiBold"
                                                                                       
                           Opacity="0.8"
                           Margin="0,10,25,0"
                           FontSize="12" />
            </Grid>

            <!-- Slider -->
            <!-- TODO: ManipulationStarting doesn't work ?-->
            <Slider x:ConnectionId='5' ThumbToolTipValueConverter="{StaticResource SliderValueConverter}"
                    ManipulationMode="All"
                                                                                           
                                                                                         
                    Margin="25,0,25,0"
                    Style="{StaticResource CircleSlider}" Background="{ThemeResource SystemControlBackgroundBaseHighRevealBorderBrush}"
                            BorderBrush="{ThemeResource SystemControlBackgroundBaseHighRevealBorderBrush}" Foreground="{ThemeResource SystemControlHighlightAccentRevealBorderBrush }"
                                                                                    
                                                                                   />

            <!-- Track Controls -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,20"
                        VerticalAlignment="Center">
                <Button x:ConnectionId='6' Margin="5,0"
                        x:Uid="ShuffleButton"
                        Style="{StaticResource CircleButtonStyle}"
                                                                                                                                              
                                                                        
                        Width="40" Height="40">
                    <Button.Content>
                        <TextBlock Text="&#xE8B1;"
                                   FontSize="18"
                                   FontFamily="Segoe MDL2 Assets"
                                   TextAlignment="Center" />
                    </Button.Content>
                </Button>

                <!-- Back -->
                <Button x:ConnectionId='7' Margin="5,0"
                        x:Uid="PreviousButton"
                        Style="{StaticResource CircleButtonStyle}"
                                                                       
                        Width="40" Height="40">
                    <Button.Content>
                        <TextBlock Text="&#xE892;"
                                   FontSize="18"
                                   FontFamily="Segoe MDL2 Assets"
                                   TextAlignment="Center" />
                    </Button.Content>
                </Button>

                <!-- Play / Pause -->
                <Button x:ConnectionId='8' Margin="5,0"
                        x:Uid="PlayButton"
                        Style="{StaticResource CircleButtonStyle}"
                                                                              
                        Width="52" Height="52">
                    <Button.Content>
                        <TextBlock x:ConnectionId='12'                                                                 
                                   FontSize="26"
                                   FontFamily="Segoe MDL2 Assets"
                                   TextAlignment="Center" />
                    </Button.Content>
                </Button>

                <!-- Next -->
                <Button x:ConnectionId='9' Margin="5,0"
                        x:Uid="NextButton"
                        Style="{StaticResource CircleButtonStyle}"
                                                                   
                        Width="40" Height="40">
                    <Button.Content>
                        <TextBlock Text="&#xE893;"
                                   FontSize="18"
                                   FontFamily="Segoe MDL2 Assets"
                                   TextAlignment="Center" />
                    </Button.Content>
                </Button>

                <!-- Repeat -->
                <Button x:ConnectionId='10' Margin="5,0"
                        x:Uid="RepeatButton"
                        Style="{StaticResource CircleButtonStyle}"
                                                                                                                                             
                                                                       
                        Width="40" Height="40">
                    <Button.Content>
                        <TextBlock x:ConnectionId='11'                                                          
                                   FontSize="18"
                                   FontFamily="Segoe MDL2 Assets"
                                   TextAlignment="Center" />
                    </Button.Content>
                </Button>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>

